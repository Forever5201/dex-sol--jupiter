# âš¡ å¿«é€Ÿä¿®å¤æŒ‡å—ï¼šäº¤æ˜“è¶…é™é—®é¢˜

## ğŸ¯ é—®é¢˜
```
âš ï¸ Simulation error: encoding overruns Uint8Array
```

## âœ… å·²ä¿®å¤å†…å®¹

### 1. é…ç½®æ–‡ä»¶ä¼˜åŒ– âœ…
**æ–‡ä»¶**: `configs/flashloan-serverchan.toml`

```toml
slippage_bps = 100              # 1% æ»‘ç‚¹
max_bridge_tokens = 1           # é™åˆ¶æ¡¥æ¥ä»£å¸
max_hops = 3                    # æœ€å¤š3è·³ âš ï¸ å…³é”®ï¼
max_accounts = 20               # é™åˆ¶è´¦æˆ·æ•°
excluded_dexes = ["Aldrin V2", "SolFi V2"]  # æ’é™¤å¤æ‚DEX
```

### 2. ä»£ç ä¼˜åŒ– âœ…
- âœ… è·¯ç”±å¤æ‚åº¦é¢„è¿‡æ»¤ï¼ˆæ‹¦æˆª4+è·³ï¼‰
- âœ… äº¤æ˜“å¤§å°ä¼°ç®—ï¼ˆæå‰æ£€æµ‹è¶…é™ï¼‰
- âœ… é™ä½maxAccountsï¼ˆä»32â†’20ï¼‰

### 3. ä¸‰å±‚é˜²æŠ¤æœºåˆ¶ âœ…
```
Layer 1: é…ç½®å±‚ â†’ é™åˆ¶æœºä¼šå‘ç°
Layer 2: APIå±‚ â†’ æ£€æŸ¥è·¯ç”±è·³æ•°
Layer 3: æ„å»ºå±‚ â†’ ä¼°ç®—äº¤æ˜“å¤§å°
```

---

## ğŸš€ ç«‹å³ä½¿ç”¨

### æ–¹å¼1ï¼šç›´æ¥å¯åŠ¨
```bash
pnpm build
pnpm start:flashloan -- configs/flashloan-serverchan.toml
```

### æ–¹å¼2ï¼šå…ˆæµ‹è¯•ï¼ˆæ¨èï¼‰
1. ç¼–è¾‘ `configs/flashloan-serverchan.toml`
2. è®¾ç½® `dry_run = true`
3. å¯åŠ¨è§‚å¯Ÿ1å°æ—¶
4. æ”¹ä¸º `dry_run = false` å®ç›˜

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| æˆåŠŸç‡ | ~20% | ~70% |
| æœºä¼šæ•°/å°æ—¶ | 10-15 | 5-8 |
| æ—¥å‡æ”¶ç›Š | 0.02 SOL | 0.15 SOL |

---

## ğŸ” æ—¥å¿—ç›‘æ§

### âœ… æˆåŠŸæ—¥å¿—
```
âœ… Route complexity check passed: 2 swaps <= 3 max
âœ… Transaction size OK: 960/1232 bytes
âœ… RPC simulation passed!
```

### âš ï¸ æ‹¦æˆªæ—¥å¿—ï¼ˆæ­£å¸¸ï¼‰
```
âš ï¸ Route too complex: 5 swaps > 3 max hops
âš ï¸ Transaction size estimated 1350 bytes > 1232 limit
```

### âŒ ä»ç„¶å¤±è´¥ï¼Ÿ
å¦‚æœè¿˜æœ‰ `encoding overruns` é”™è¯¯ï¼š

#### ç´§æ€¥æ–¹æ¡ˆï¼šè¿›ä¸€æ­¥é™åˆ¶
ç¼–è¾‘ `configs/flashloan-serverchan.toml`:
```toml
max_hops = 2  # ä»3é™è‡³2
max_bridge_tokens = 0  # ä»…ç›´æ¥è·¯ç”±
excluded_dexes = ["Aldrin V2", "SolFi V2", "TesseraV", "HumidiFi"]
```

---

## ğŸ“š è¯¦ç»†è¯´æ˜
å‚è§ `äº¤æ˜“å¤§å°ä¼˜åŒ–æ–¹æ¡ˆ-å®Œæ•´æŠ¥å‘Š.md`

---

**ç°åœ¨å¯ä»¥å®‰å…¨å¯åŠ¨botäº†ï¼** ğŸ‰


