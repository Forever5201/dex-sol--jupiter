# âœ… å¯åŠ¨å‘½ä»¤æµ‹è¯•

## å‘½ä»¤éªŒè¯

æ‚¨æƒ³è¿è¡Œçš„å‘½ä»¤ï¼š
```bash
pnpm start:flashloan -- configs/flashloan-serverchan.toml
```

## âœ… éªŒè¯ç»“æœ

### 1. package.json è„šæœ¬æ£€æŸ¥
```json
"start:flashloan": "tsx packages/jupiter-bot/src/flashloan-entry.ts"
```
âœ… **è„šæœ¬å­˜åœ¨**

### 2. é…ç½®æ–‡ä»¶æ£€æŸ¥
```bash
configs/flashloan-serverchan.toml
```
âœ… **é…ç½®æ–‡ä»¶å­˜åœ¨**

### 3. ä¾èµ–ç¼–è¯‘æ£€æŸ¥
```bash
pnpm build
```
âœ… **ç¼–è¯‘æˆåŠŸ**ï¼ˆåˆšåˆšå®Œæˆï¼‰

### 4. å…¥å£æ–‡ä»¶æ£€æŸ¥
```
packages/jupiter-bot/src/flashloan-entry.ts
```
âœ… **å…¥å£æ–‡ä»¶å­˜åœ¨**

**å…¥å£é€»è¾‘**:
- è‡ªåŠ¨æ£€æµ‹é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆæ”¯æŒ `--config=xxx` æˆ–ç›´æ¥ä¼ å‚ï¼‰
- è‡ªåŠ¨ä»é…ç½®æ–‡ä»¶è¯»å–ä»£ç†è®¾ç½®
- å¯åŠ¨ flashloan-bot

---

## ğŸš€ å¯ä»¥å¯åŠ¨ï¼

**ç­”æ¡ˆ**: **æ˜¯çš„ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥å¯åŠ¨ï¼**

### å®Œæ•´å¯åŠ¨æµç¨‹

```bash
pnpm start:flashloan -- configs/flashloan-serverchan.toml
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š

1. âœ… **è¯»å–é…ç½®**: `configs/flashloan-serverchan.toml`
2. âœ… **è‡ªåŠ¨åº”ç”¨ä»£ç†**: `http://127.0.0.1:7890` (ä»é…ç½®æ–‡ä»¶)
3. âœ… **è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä»£ç†**: å¦‚æœç¯å¢ƒå˜é‡ä¸ºç©ºï¼Œè‡ªåŠ¨ä»Windowsè¯»å–
4. âœ… **å¯åŠ¨é—ªç”µè´·æœºå™¨äºº**: ä½¿ç”¨æ‰€æœ‰ä¿®å¤åçš„ä»£ç 

---

## ğŸ“Š é…ç½®æ–‡ä»¶äº®ç‚¹

æ‚¨çš„ `flashloan-serverchan.toml` é…ç½®ï¼š

### âœ… ç½‘ç»œä»£ç†å·²é…ç½®
```toml
[network]
proxy_url = "http://127.0.0.1:7890"
```

### âœ… Serveré…±ç›‘æ§å·²é…ç½®  
```toml
[monitoring.serverchan]
send_key = "SCT299918Tjm2hNLuwKRB9DqqHaiDvj3kJ"
enabled = true
alert_on_opportunity_found = true  # å‘ç°æœºä¼šæ—¶é€šçŸ¥
```

### âœ… é—ªç”µè´·é…ç½®æ­£ç¡®
```toml
[flashloan]
provider = "jupiter-lend"  # ä½¿ç”¨ Jupiter Lend (0% è´¹ç”¨)

[flashloan.jupiter_lend]
min_borrow_amount = 10_000_000_000  # 10 SOL
max_borrow_amount = 1_000_000_000_000  # 1000 SOL
fee_rate = 0.0  # 0% è´¹ç”¨ï¼
```

### âœ… Dry-run æ¨¡å¼
```toml
[bot]
dry_run = false  # å½“å‰æ˜¯æ­£å¼æ¨¡å¼
```

**å»ºè®®**: ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶æ”¹ä¸º `dry_run = true` è¿›è¡Œæµ‹è¯•

---

## ğŸ¯ å¯åŠ¨æ­¥éª¤

### æ–¹å¼ 1: ä½¿ç”¨æ‚¨çš„å‘½ä»¤ï¼ˆæ¨èï¼‰

```bash
pnpm start:flashloan -- configs/flashloan-serverchan.toml
```

### æ–¹å¼ 2: å…ˆæµ‹è¯• Dry-run æ¨¡å¼

1. **ç¼–è¾‘é…ç½®æ–‡ä»¶** `configs/flashloan-serverchan.toml`:
   ```toml
   [bot]
   dry_run = true  # æ”¹ä¸º true
   ```

2. **å¯åŠ¨æµ‹è¯•**:
   ```bash
   pnpm start:flashloan -- configs/flashloan-serverchan.toml
   ```

3. **è§‚å¯Ÿæ—¥å¿—**:
   - âœ… çœ‹åˆ°æœºä¼šå‘ç°
   - âœ… çœ‹åˆ°äº¤æ˜“æ„å»º
   - âœ… **ä¸ä¼šå®é™…å‘é€äº¤æ˜“**

4. **ç¡®è®¤æ²¡é—®é¢˜åï¼Œæ”¹ä¸ºæ­£å¼æ¨¡å¼**:
   ```toml
   [bot]
   dry_run = false
   ```

---

## ğŸ“‹ å¯åŠ¨åé¢„æœŸæ—¥å¿—

```
ğŸ”§ [Bootstrap] Applied proxy from config: http://127.0.0.1:7890
[WindowsProxyDetector] âœ… è‡ªåŠ¨æ£€æµ‹åˆ° Windows ç³»ç»Ÿä»£ç†: http://127.0.0.1:7890
ğŸŒ [NetworkAdapter] ä»£ç†é…ç½®å·²å¯ç”¨
   â”œâ”€ HTTP:  http://127.0.0.1:7890
   â””â”€ HTTPS: http://127.0.0.1:7890

ğŸ’° Flashloan Bot initialized
âœ… Jupiter Legacy Swap API client initialized (lite-api.jup.ag/swap/v1 - flash loan support)

[Worker 0] Starting Worker with config: {...}
[Worker 0] ğŸ’“ Heartbeat: 0 queries, 0 opportunities

[Worker 1] âš¡ Parallel query: 573ms
  â”œâ”€ å»ç¨‹: 10.00 SOL â†’ 2361.30 USDC
  â”œâ”€ å›ç¨‹: 2598.97 USDC â†’ 11.003076 SOL
  â””â”€ åˆ©æ¶¦: 1.003076 SOL

âœ… å¯æ‰§è¡Œæœºä¼š - å‡€åˆ©æ¶¦: 0.85 SOL
ğŸš€ Building swap instructions via Legacy Swap API...
âœ… Successfully built swap instructions on attempt 1
```

---

## ğŸ”” å¾®ä¿¡é€šçŸ¥

å¯åŠ¨åï¼Œæ‚¨ä¼šæ”¶åˆ°å¾®ä¿¡é€šçŸ¥ï¼ˆServeré…±ï¼‰ï¼š

- ğŸ“± **æœºä¼šå‘ç°**: æ¯æ¬¡å‘ç°å¥—åˆ©æœºä¼š
- ğŸ’° **åˆ©æ¶¦é€šçŸ¥**: æ‰§è¡ŒæˆåŠŸåçš„åˆ©æ¶¦
- âŒ **é”™è¯¯å‘Šè­¦**: å‡ºç°å¼‚å¸¸æ—¶
- ğŸ“Š **å®šæœŸç»Ÿè®¡**: æ¯å°æ—¶æ±‡æ€»

---

## âš ï¸ é‡è¦æç¤º

### å¯åŠ¨å‰æ£€æŸ¥æ¸…å•

- [ ] Clash/V2Ray æ˜¯å¦æ­£åœ¨è¿è¡Œï¼Ÿ
- [ ] é’±åŒ…è‡³å°‘æœ‰ 0.1 SOLï¼ˆæ”¯ä»˜äº¤æ˜“è´¹ï¼‰
- [ ] Serveré…± SendKey æ˜¯å¦æ­£ç¡®ï¼Ÿ
- [ ] å»ºè®®å…ˆç”¨ `dry_run = true` æµ‹è¯•

### å¦‚æœé‡åˆ°é—®é¢˜

1. **æ£€æŸ¥ä»£ç†è¿æ¥**:
   ```bash
   curl -x http://127.0.0.1:7890 https://www.google.com
   ```

2. **æŸ¥çœ‹å®Œæ•´æ—¥å¿—**:
   ```bash
   tail -f logs/flashloan.log
   ```

3. **æµ‹è¯• Serveré…±**:
   è®¿é—®ï¼š`https://sctapi.ftqq.com/SCT299918Tjm2hNLuwKRB9DqqHaiDvj3kJ.send?title=æµ‹è¯•&desp=å¯åŠ¨æˆåŠŸ`

---

## âœ¨ æ€»ç»“

### âœ… å¯ä»¥å¯åŠ¨

```bash
pnpm start:flashloan -- configs/flashloan-serverchan.toml
```

### âœ… æ‰€æœ‰ä¿®å¤å·²å®Œæˆ

1. âœ… API Endpoint ä¿®æ­£ (Legacy Swap API)
2. âœ… æ™ºèƒ½é‡è¯•æœºåˆ¶
3. âœ… è‡ªåŠ¨ä»£ç†æ£€æµ‹
4. âœ… è¯­æ³•é”™è¯¯ä¿®å¤
5. âœ… ä¾èµ–å®‰è£…å®Œæˆ
6. âœ… ç¼–è¯‘æˆåŠŸ

### ğŸš€ ç°åœ¨å°±å¯ä»¥è¿è¡Œï¼

**ç›´æ¥æ‰§è¡Œå‘½ä»¤å³å¯å¯åŠ¨é—ªç”µè´·å¥—åˆ©æœºå™¨äººï¼**



